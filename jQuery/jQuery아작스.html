<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div id="id_disp"></div>
    <input type=button value="jQuery아작스" id="id_btn">
    <script>
        $("#id_btn").on("click", function(){
            /* $.ajax({
                type:"get", // type 대신 method라고 써도 됨
                url:"/jsstudy/AJAX/cat.csv",
                success:function(p_rslt){
                    $("#id_disp").html(p_rslt);
                }
            }); */

            /* $.ajax({
                type:"get", 
                url:"/jsstudy/AJAX/dog.php?dog=파카",
                success:function(p_rslt){
                    $("#id_disp").html(p_rslt);
                }
            }); */

           /*  $.ajax({
                type:"post", 
                url:"/jsstudy/AJAX/dog.php",
                data:"dog=파카", // 전송하려는 값
                success:function(p_rslt){
                    $("#id_disp").html(p_rslt);
                }
            }); */

            $.ajax({
                type:"post", 
                url:"/jsstudy/AJAX/hms.xml",
                data:"dog=파카", // 전송하려는 값
                dataType:"xml",
                success:function(p_rslt){
                    // console.log(p_rslt);
                    // $("#id_disp").html(p_rslt);  // html 객체가 와서 에러남
                    var v_frds = p_rslt.getElementsByTagName("dog");
                    for(var i = 0; i < v_frds.length; i++) {
                        var v_childs = v_frds[i].children;
                        for(var j = 0; j < v_childs.length; j++) {
                            $("#id_disp").html($("#id_disp").html() + v_childs[j].innerHTML + "<br>");
                        }
                    }
                }
            });


           /*  $.ajax({
                type:"post", 
                url:"/jsstudy/AJAX/cat.json",
                data:"dog=파카", // 전송하려는 값
                // dataType:"json", // json 자동인식
                success:function(p_rslt){
                    // datatype을 모를때 확인
                    console.log(p_rslt);
                    console.log(p_rslt.cat1);
                },
                error:function(xhr, status, msg) {
                    console.log(status);
                }
            }); */
        });
    </script>
</body>
</html>